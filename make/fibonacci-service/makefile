
#--------------------------------------------------------------------------------------------------------------
#--------------------------------------------------------------------------------------------------------------
# Name: fibonacci-service
# Description: A spring boot microservice implementation for the Fibonacci DevOps demo.
#--------------------------------------------------------------------------------------------------------------
#--------------------------------------------------------------------------------------------------------------

#--------------------------------------------------------------------------------------------------------------
#
# Begin fibonacci-service make targets
#
#--------------------------------------------------------------------------------------------------------------

#--------------------------------------------------------------------------------------------------------------
# run local
#--------------------------------------------------------------------------------------------------------------
# Run the fibonacci-service locally within the developer IDE using docker.
#--------------------------------------------------------------------------------------------------------------
fibonacci-service/run-local: fibonacci-service/containerize-local
	docker run -p 8080:8080 fibonacci-service:latest

#--------------------------------------------------------------------------------------------------------------
# containerize local
#--------------------------------------------------------------------------------------------------------------
# Package the fibonacci-service in a docker container and publish locally.
#--------------------------------------------------------------------------------------------------------------
fibonacci-service/containerize-local: fibonacci-service/package-local
	docker build -f docker/fibonacci-service/Dockerfile -t fibonacci-service:latest .

#--------------------------------------------------------------------------------------------------------------
# package local
#--------------------------------------------------------------------------------------------------------------
# Package the fibonacci-service java application in a JAR.
#--------------------------------------------------------------------------------------------------------------
fibonacci-service/package-local:
	mvn package

#--------------------------------------------------------------------------------------------------------------
#
# End fibonacci-service make targets
#
#--------------------------------------------------------------------------------------------------------------
